<html>
    <head>
        <title>五十音图记忆练习</title>
        <meta charset="utf-8">
        <style type="text/css">
			label {
				font-size:100px;
				font-family:宋体;
				color: red;
			}

			.mb {
				width: 160px;
				height: 80px;
				font-size: 20px;
				margin-left:10px;
			}

			.rb {
				width: 200px;
				height: 100px;
				font-size: 25px;
				margin-left:10px;
			}

			.chb" {
				width: 160px;
				height: 80px;
				font-size: 20px;
				margin-left:10px;
			}
		</style>
		
		<script>
			var e =[ [
				"あ","い","う","え","お","ア","イ","ウ","エ","オ"
			],
			[
				"か","き","く","け","こ","カ","キ","ク","ケ","コ"
			],
			[
				"さ","し","す","せ","そ","サ","シ","ス","セ","ソ"
			],
			[
				"た","ち","つ","て","と","タ","チ","ツ","テ","ト"
			],
			[
				"な","に","ぬ","ね","の","ナ","ニ","ヌ","ネ","ノ"
			],
			[
				"は","ひ","ふ","へ","ほ","ハ","ヒ","フ","ヘ","ホ"
			],
			[
				"ま","み","む","め","も","マ","ミ","ム","メ","モ"
			],
			[
				"や","ゆ","よ","ヤ","ユ","ヨ"
			],
			[
				"ら","り","る","れ","ろ","","","","",""
			],
			[
				"わ","を","ワ","ヲ"
			],
			[
				"ん"
			]];
			
			var type = 2;
			var shuxu = 0;
			var daoxu = 0;
			var suiji = 0;
			
			var chb = new Array();
			var ids = new Array();			
			var element = new Array();

            function getNextElement(){
                var test_request_node = document.getElementById("test_request");
                var max = element.length-1;
				var min = 0;
                if(type==0){
                    //顺序
                    if(shuxu<max){
                        var e = element[shuxu];
                        shuxu++;
						if(shuxu==max)
							shuxu = min;
                        return e;
                    }else if(shuxu==max){
                        return element[shuxu];
                    }else{
                        return element[shuxu-1];
                    }
                }else if(type==1){
                    //倒序
                    if(daoxu<max){
                        var e = element[max-daoxu];
                        daoxu++;
						if(daoxu==max)
							daoxu = min;
                        return e;
                    }else if(daoxu==max){
                        return element[max-daoxu];
                    }else{
                        return element[max-daoxu+1];
                    }
                    
                }else if(type==2){
                    //随机
					while(true) {
						var r = getRandom(max,min);
						if(ids.includes(r))
							continue;
						else {
							ids.push(r);
							suiji = r;
							break;
						}
						
					}
                    return element[suiji];
                }
            }
			
			function getRandom(max,min){					
				return Math.round(Math.random() * (max - min) + min);
			}
			
			function test() {
				var test_request_node = document.getElementById("test_request");
				
				chb[0] = document.getElementById('row_a');
				chb[1] = document.getElementById('row_k');
				chb[2] = document.getElementById('row_s');
				chb[3] = document.getElementById('row_t');
				chb[4] = document.getElementById('row_n');
				chb[5] = document.getElementById('row_h');
				chb[6] = document.getElementById('row_m');
				chb[7] = document.getElementById('row_y');
				chb[8] = document.getElementById('row_r');
				chb[9] = document.getElementById('row_w');
				chb[10] = document.getElementById('row_b');
				
				var countOneTime = document.getElementById('nums').value;
				if(countOneTime<=0)
					countOneTime = 5;
				
				element = new Array();
				
				for(var i=0; i<chb.length; i++) {
					if(chb[i].checked)
						element = element.concat(e[i]);
				}
				
				if(countOneTime>element.length) {
					alert("数字太大");
					return;
				}
				
				var show_text = "";
				ids = new Array();
				var count = countOneTime;
				while((count--) > 0)
					show_text += getNextElement()+"  ";
				
				test_request_node.innerText = show_text;
			}
			
			function select_all() {
				for(var i=0; i<chb.length; i++) {
					chb[i].checked = true;
				}
			}
			
			function select_none() {
				for(var i=0; i<chb.length; i++) {
					chb[i].checked = !chb[i].checked;
				}
			}
			
			function select_no() {
				for(var i=0; i<chb.length; i++) {
					chb[i].checked = false;
				}
			}
			
            function paixu(t){
                type = t;
                var b_0 = document.getElementById("b_0");
                var b_1 = document.getElementById("b_1");
                var b_2 = document.getElementById("b_2");
                if(t==0){
                    b_0.setAttribute("style","color:#CD9B1D;");
                    b_1.setAttribute("style","color:black;");
                    b_2.setAttribute("style","color:black;");
                }else if(t==1){
                    b_0.setAttribute("style","color:black;");
                    b_1.setAttribute("style","color:#CD9B1D;");
                    b_2.setAttribute("style","color:black;");
                }else if(t==2){
                    b_0.setAttribute("style","color:black;");
                    b_1.setAttribute("style","color:black;");
                    b_2.setAttribute("style","color:#CD9B1D;");
                }
                
                test();
            }
            
            window.onload=test;
		</script>
    </head>
    <body >
        <div align="center" style="margin-top:80px">
            <label id="test_request" ></label>
        </div>
        <div align="center" style="margin-top:50px">
            <input class="mb" type="button" value="顺序" onclick="paixu(0)" id="b_0"/>
            <input class="mb" type="button" value="倒序" style=onclick="paixu(1)" id="b_1"/>
            <input class="rb" type="button" value="随机" style="color:#CD9B1D;" onclick="paixu(2)" id="b_2"/>
        </div>
		<div align="center" style="margin-top:50px">
            个数:
			<input id="nums" value="5"/>
		</div>
		<div align="center" style="margin-top:50px">
			<input class="chb" type="checkbox" id="row_a" checked=true>あ</input>
			<input class="chb" type="checkbox" id="row_k">か</input>
			<input class="chb" type="checkbox" id="row_s">さ</input>
			<input class="chb" type="checkbox" id="row_t">た</input>
			<input class="chb" type="checkbox" id="row_n">な</input>
			<input class="chb" type="checkbox" id="row_h">は</input>
</br>	
			<input class="chb" type="checkbox" id="row_m">ま</input>
			<input class="chb" type="checkbox" id="row_y">や</input>
			<input class="chb" type="checkbox" id="row_r">ら</input>
			<input class="chb" type="checkbox" id="row_w">わ</input>
			<input class="chb" type="checkbox" id="row_b">ん</input>
		</div>
		<div align="center" style="margin-top:20px">
            <input type="button" value="全选" onclick="select_all()"/>
            <input type="button" value="反选" style="margin-left:10px" onclick="select_none()"/>
            <input type="button" value="全不选" style="margin-left:10px" onclick="select_no()"/>
        </div>
		
        
    </body>
</html>

